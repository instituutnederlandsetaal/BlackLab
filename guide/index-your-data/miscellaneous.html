<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Miscellaneous | / BlackLab /</title>
    <meta name="description" content="Documentation for the corpus search engine BlackLab">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.B_auXnRN.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DPX0D_lQ.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.7L0ksg35.js">
    <link rel="modulepreload" href="/assets/chunks/framework.B3j7FRen.js">
    <link rel="modulepreload" href="/assets/guide_index-your-data_miscellaneous.md.B79mUJzg.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--> <!--[--><span tabindex="-1" data-v-0b0ada53></span> <a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--> <!----> <header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--> <!--[--><img class="VPImage logo" src="/img/ivdnt-logo-4regels.svg" alt data-v-8426fc1a><!--]--> <span data-v-1168a8e4>/ BlackLab /</span> <!--[--><!--]--></a></div></div> <div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--> <div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----> <div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span> <span class="DocSearch-Button-Placeholder">Search</span></span> <span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd> <kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div> <nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963>
      Main Navigation
    </span> <!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/server/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Webservice</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/development/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Developers</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://blacklab-frontend.ivdnt.org/" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Frontend</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://ivdnt.org/" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>/INT/</span><!--]--></a><!--]--><!--]--></nav> <!----> <div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span> <span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div> <div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/instituutnederlandsetaal/blacklab/" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div> <div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button> <div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----> <!--[--><!--[--><!----> <div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p> <div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span> <span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div> <div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/instituutnederlandsetaal/blacklab/" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div> <!--[--><!--]--> <button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span> <span class="middle" data-v-e5dd9c1c></span> <span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div> <div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div> <!----></header> <div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span> <span class="menu-text" data-v-a6f0e41e>Menu</span></button> <div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button> <!----></div></div></div> <aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div> <nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6>
        Sidebar Navigation
      </span> <!--[--><!--]--> <!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><!----> <div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Introduction</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/getting-started.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Getting Started</p><!--]--></a> <!----></div> <!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <h2 class="text" data-v-b3fd67f8>Index your data</h2> <div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div> <div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/create-an-index.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Create an index</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/simple-example.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>A simple configuration file</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/annotations.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Annotations</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/spans.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Spans</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/metadata.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Metadata</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/processing-values.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Processing values</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/relations.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Relations</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/parallel-corpora.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Parallel corpora</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/non-xml-files.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Non-XML files</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/miscellaneous.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Miscellaneous</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/index-your-data/full-example.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Full configuration example</p><!--]--></a> <!----></div> <!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <h2 class="text" data-v-b3fd67f8>Query language</h2> <div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div> <div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/query-language/index.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>BCQL</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/query-language/token-based.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Token-based querying</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/query-language/relations.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Relations querying</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/query-language/parallel.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Parallel corpus querying</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/query-language/miscellaneous.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Miscellaneous</p><!--]--></a> <!----></div> <!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><!----> <div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/faq.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>FAQ</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/future-plans.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Future plans</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/who-uses-blacklab.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Who is using BlackLab?</p><!--]--></a> <!----></div> <!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div> <a class="VPLink link link" href="/guide/about.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>About</p><!--]--></a> <!----></div> <!----></div><!--]--></div></section></div><!--]--> <!--[--><!--]--></nav></aside> <div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--> <div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div> <div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--> <!--[--><!--]--> <nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div> <div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div> <ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav> <!--[--><!--]--> <div class="spacer" data-v-3f215769></div> <!--[--><!--]--> <!----> <!--[--><!--]--> <!--[--><!--]--></div></div></div></div> <div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--> <main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _guide_index-your-data_miscellaneous" data-v-39a288b8><div><h1 id="miscellaneous" tabindex="-1">Miscellaneous <a class="header-anchor" href="#miscellaneous" aria-label="Permalink to &quot;Miscellaneous&quot;">​</a></h1> <h2 id="forward-index-and-multiple-values" tabindex="-1">Forward index and multiple values <a class="header-anchor" href="#forward-index-and-multiple-values" aria-label="Permalink to &quot;Forward index and multiple values&quot;">​</a></h2> <p>A note about forward indices and indexing multiple values at a single corpus position: as of right now, the forward index will only store the first value indexed at any position. This is the value used for grouping and sorting on this annotation. In the future we may add the ability to store multiple values for a token position in the forward index, although it is likely that the first value will always be the one used for sorting and grouping.</p> <h2 id="allow-viewing-documents" tabindex="-1">Allow viewing documents <a class="header-anchor" href="#allow-viewing-documents" aria-label="Permalink to &quot;Allow viewing documents&quot;">​</a></h2> <p>By default, BlackLab Server will not allow whole documents to be retrieved using <code>/docs/PID/contents</code>. This is to prevent accidentally distributing unlicensed copyrighted material.</p> <p>You can allow retrieving whole documents by enabling the <code>corpusConfig.contentViewable</code> setting in the index format configuration file, or directly in the <code>indexmetadata.yaml</code> file in the index directory.</p> <p>This setting can also be changed for individual documents by setting a metadat field with the name <code>contentViewable</code> to <code>true</code> or <code>false</code>.</p> <h2 id="xpath-support-level" tabindex="-1">XPath support level <a class="header-anchor" href="#xpath-support-level" aria-label="Permalink to &quot;XPath support level&quot;">​</a></h2> <p>BlackLab supports two different XML processors: VTD and Saxon. While currently VTD is still the default, we would recommend Saxon for most users going forward.</p> <p>VTD only supports XPath 1.0 and has some slight quirks (see below). Saxon uses more memory, but is often faster and supports XPath 3.1, which can make writing indexing configurations much easier.</p> <p>Certain complex indexing features can be avoided when using Saxon; many things can be done in XPath directly. See <a href="./xpath-examples.html">XPath examples</a> to get an idea of the wide range of possibilities.</p> <p>To use Saxon, place this in your input format config (.blf.yaml) file (at the top level):</p> <div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">processor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">saxon</span></span></code></pre></div><p>This works for the current development version and releases 4.0 and up.</p> <details class="details custom-block"><summary>Using Saxon with BlackLab 3.0.1 and older</summary> <p>In older versions of BlackLab (release 3.0.1 and before), there is basic Saxon support, but there are quite a few features missing.</p> <p>It also didn&#39;t support the top-level <code>processor</code> key shown above; if you do want to use Saxon on these older releases, use:</p> <div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">fileType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">fileTypeOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  processing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">saxon</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # (instead of vtd, which is the default)</span></span></code></pre></div></details> <details class="details custom-block"><summary>Beware of VTD quirks</summary> <p>If you do stick with the default processor VTD instead of switching to Saxon, be aware that in rare cases, a correct XPath may produce unexpected results. This one for example: <code>string(.//tei:availability[1]/@status=&#39;free&#39;)</code>. There&#39;s often a workaround for this, in this case changing it to <code>string(//tei:availability[1]/@status=&#39;free&#39;)</code> might fix it (although of course this means something slightly different, so do check thoroughly).</p> <p>A future version of BlackLab will change the default from VTD to Saxon.</p></details> <h2 id="unicode-normalization" tabindex="-1">Unicode normalization <a class="header-anchor" href="#unicode-normalization" aria-label="Permalink to &quot;Unicode normalization&quot;">​</a></h2> <p>Unicode normalization refers to the process of converting different ways of encoding the same character to a single, canonical form. For example, the character <code>é</code> can be encoded as a single character <code>é</code> (U+00E9), or as a combination of <code>e</code> (U+0065) and <code>´</code> (U+00B4).</p> <p>BlackLab&#39;s builtin indexers should automatically normalize to NFC (Normalization Form Canonical Composition). This should prevent any issues when sorting or grouping.</p> <p><a href="https://en.wikipedia.org/wiki/Unicode_equivalence" target="_blank" rel="noreferrer">More about Unicode equivalence and normal forms</a></p> <h2 id="automatic-xslt-generation" tabindex="-1">Automatic XSLT generation <a class="header-anchor" href="#automatic-xslt-generation" aria-label="Permalink to &quot;Automatic XSLT generation&quot;">​</a></h2> <p>If you&#39;re creating your own corpora by uploading data to BlackLab Frontend, you want to be able to view your documents as well, without having to write an XSLT yourself. BlackLab Server can generate a default XSLT from your format config file. However, because BlackLab is a bit more lenient with namespaces than the XSLT processor that generates the document view, the generated XSLT will only work correctly if you take care to define your namespaces correctly in your format config file.</p> <p>IMPORTANT: generating the XSLT might not work correctly if your XML namespaces change throughout the document, e.g. if you declare local namespaces on elements, instead of</p> <p>Namespaces can be declared in the top-level &quot;namespaces&quot; block, which is simply a map of namespace prefix (e.g. &quot;tei&quot;) to the namespace URI (e.g. <code>http://www.tei-c.org/ns/1.0</code>). So for example, if your documents declare namespaces as follows:</p> <div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">doc</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xmlns:my-ns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://example.com/my-ns&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xmlns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://example.com/other-ns&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">doc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>Then your format config file should contain this namespaces section:</p> <div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">namespaces</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://example.com/other-ns</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # The default namespace</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  my-ns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://example.com/my-ns</span></span></code></pre></div><p>If you forget to declare some or all of these namespaces, the document might index correctly, but the generated XSLT won&#39;t work and will likely show a message saying that no words have been found in the document. Updating your format config file should fix this; re-indexing shouldn&#39;t be necessary, as the XSLT is generated directly from the config file, not the index.</p> <h2 id="configuration-versions-1-and-2" tabindex="-1">Configuration versions 1 and 2 <a class="header-anchor" href="#configuration-versions-1-and-2" aria-label="Permalink to &quot;Configuration versions 1 and 2&quot;">​</a></h2> <p>There&#39;s an experimental version 2 of the <code>.blf.yaml</code> format. To try it out,
add <code>version: 2</code> to the top of your format file.</p> <p>Version 2 of the format file introduces a few breaking changes to be aware of:</p> <ul><li>default XML processor is now <code>saxon</code> (used to be <code>vtd</code>). Saxon is faster and supports modern XPath features, making it much more flexible.</li> <li><code>baseFormat</code> key (to inherit from a different format config) is no longer allowed. Instead, you should copy the format and customize it to suit your needs.</li> <li><code>word</code> and <code>lemma</code> no longer have a special default <code>sensitivity</code>. All user-defined annotations now default to <code>insensitive</code>. To remain compatible with the old behaviour, explicitly specify <code>sensitivity: sensitive_insensitive</code> for <code>word</code> and <code>lemma</code>.</li> <li>dash <code>-</code> in field or annotation name will no longer automatically be replaced with underscore <code>_</code> (this was never necessary; field and annotation names must be valid XML names, which may contain dashes) If you rely on this quirk, replace dash with underscore manually in your config.</li> <li>processing step <code>default</code> was renamed to <code>ifempty</code>, to better describe how it&#39;s commonly used.</li> <li><code>inlineTags</code> keys <code>includeAttributes</code>, <code>excludeAttributes</code> and <code>extraAttributes</code> have been removed. Instead, use the <code>attributes</code> key to specify which attributes to index. Add <code>valuePath</code> if this is an extra attribute (that doesn&#39;t actually appear on the tag, but should be added based on the XPath expression). Use <code>exclude: true</code> to exclude an attribute. If the first entry contains no name, only <code>exclude: true</code>, this means &quot;exclude any attribute not in this list&quot;.</li> <li><code>append</code> processing step now has a <code>prefix</code> parameter in addition to the <code>separator</code> parameter. <code>separator</code> still defaults to a space, but is now only used to separate multiple metadata field values. <code>prefix</code> defaults to the empty string, and is used to prefix the value to be appended. This means you won&#39;t get an extra space by default when appending a value. Add <code>prefix: &#39; &#39;</code> (or whatever you set as <code>separator</code>) for the old behaviour.</li> <li>The <code>multipleValues</code>, <code>allowDuplicateValues</code> keys on an annotations have been removed. Both work automatically now: if your config produces multiple values for an annotation, they will be indexed, and any duplicates that may arise are automatically removed.</li> <li>The <code>mapValues</code> key on metadata fields has been removed. Use the <code>map</code> processing step instead, which can be used anywhere where processing steps are allowed.</li></ul> <h2 id="extending-formats-deprecated" tabindex="-1">Extending formats (deprecated) <a class="header-anchor" href="#extending-formats-deprecated" aria-label="Permalink to &quot;Extending formats (deprecated)&quot;">​</a></h2> <blockquote><p><strong>NOTE: THIS FUNCTIONALITY IS DEPRECATED</strong> <br>
Don&#39;t rely on this feature as it is no longer supported in .blf.yaml format version 2. Instead, simply copy the format file and make any changes you need.</p></blockquote> <p>It is possible to extend an existing format. This is done by specifying the &quot;baseFormat&quot; setting at the top-level. You should set it to the name of the format you wish to extend.</p> <p>It matters where baseFormat is placed, as it effectively copies values from the specified format when it is encountered. It&#39;s usually best to specify baseFormat somewhere at the top of the file. You can put it after &#39;name&#39; and &#39;description&#39; if you wish, as those settings are not copied.</p> <p>To be precise, setting baseFormat does the following:</p> <ul><li>copy type, fileType, documentPath, store, metadataDefaultAnalyzer</li> <li>copy the corpusConfig settings</li> <li>add all fileTypeOptions</li> <li>add all namespace declarations</li> <li>add all indexFieldAs entries</li> <li>add all annotatedFields entries</li> <li>add all metadata entries</li> <li>add all linkedDocument entries</li></ul> <p>In other words: setting a base format allows you to add or change file type options, namespace declarations, indexFieldAs entries, annotated fields or linked documents. You can also add (embedded) metadata sections.</p> <p>Note that most blocks are not &quot;merged&quot;: if you want to change annotated field settings, you will have to redefine the entire annoted field in the &quot;derived&quot; configuration file; you can&#39;t just specify the setting you wish to override for that field. It is also not possible to make changes to existing metadata sections.</p></div></div></main> <footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--> <div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/instituutnederlandsetaal/blacklab/edit/dev/site/docs/guide/030_index-your-data/090_miscellaneous.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page<!--]--></a></div> <div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated:
    <time datetime="2025-06-11T10:55:04.000Z" data-v-e98dd255></time></p></div></div> <!----></footer> <!--[--><!--]--></div></div></div> <!--[--><!--]--></div></div> <footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Apache license 2.0</p> <p class="copyright" data-v-e315a0ad>Copyright © 2010-present Dutch Language Institute</p></div></footer> <!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"archive_blog.md\":\"BBxoo1Bm\",\"archive_newsletter.md\":\"CJmIUfeT\",\"development_api-redesign_api-redesign.md\":\"BXLVnTGW\",\"development_api-redesign_api.md\":\"DyINbGqH\",\"development_changelog.md\":\"DeHxVoVL\",\"development_customization_docindexer.md\":\"L7mv84rC\",\"development_customization_legacy-docindexers.md\":\"DEQ5ASWy\",\"development_customization_plugins.md\":\"L47B50VS\",\"development_downloads.md\":\"B0IADjEm\",\"development_index.md\":\"rgTkLe3g\",\"development_migration-guide.md\":\"BQsgD1Vk\",\"development_query-tool.md\":\"DnmImSOG\",\"development_solr.md\":\"DZnICT4-\",\"guide_about.md\":\"CE-pZK_X\",\"guide_example-application.md\":\"CWz51vjf\",\"guide_faq.md\":\"CNxKw16U\",\"guide_future-plans.md\":\"Dpze4EMr\",\"guide_getting-started.md\":\"Bh6SEEpU\",\"guide_index-your-data_annotations.md\":\"BgBol3L4\",\"guide_index-your-data_create-an-index.md\":\"DO6AaxGO\",\"guide_index-your-data_full-example.md\":\"G6-Wr6Mf\",\"guide_index-your-data_metadata.md\":\"Ctkc6NFN\",\"guide_index-your-data_miscellaneous.md\":\"B79mUJzg\",\"guide_index-your-data_non-xml-files.md\":\"BcspfFpt\",\"guide_index-your-data_parallel-corpora.md\":\"CnXK9kSa\",\"guide_index-your-data_processing-values.md\":\"D0DYT7nZ\",\"guide_index-your-data_relations.md\":\"DKlBtSdg\",\"guide_index-your-data_simple-example.md\":\"BpOODATc\",\"guide_index-your-data_spans.md\":\"DqOz76lM\",\"guide_index-your-data_xpath-examples.md\":\"DDS4eLTP\",\"guide_index.md\":\"BB1rYHn9\",\"guide_query-language_index.md\":\"EiaWmc5s\",\"guide_query-language_miscellaneous.md\":\"BQry9VEe\",\"guide_query-language_parallel.md\":\"CDxmphjm\",\"guide_query-language_relations.md\":\"BtrvnIMT\",\"guide_query-language_token-based.md\":\"C8lQ1E-A\",\"guide_tsv-example.md\":\"BQ5tki1m\",\"guide_who-uses-blacklab.md\":\"X3uRqpwl\",\"guide_yaml.md\":\"a8SqJSyj\",\"index.md\":\"C4TKYqmk\",\"server_configuration.md\":\"MSOrGlEz\",\"server_from-different-languages.md\":\"C3wt23hx\",\"server_howtos.md\":\"BMGTG2vF\",\"server_index.md\":\"eQubzeD5\",\"server_install-macos.md\":\"BZvkQWwp\",\"server_overview.md\":\"C1tqMC0F\",\"server_rest-api_api-versions.md\":\"CQyI2vkp\",\"server_rest-api_cache-clear_post.md\":\"ZzF4eZZr\",\"server_rest-api_cache-info_get.md\":\"CyIgxXtw\",\"server_rest-api_corpus_autocomplete_field_get.md\":\"D-xgI-OC\",\"server_rest-api_corpus_delete.md\":\"cH2kznC0\",\"server_rest-api_corpus_docs_get.md\":\"sWi7VnyN\",\"server_rest-api_corpus_docs_pid_contents_get.md\":\"B0WO4orC\",\"server_rest-api_corpus_docs_pid_get.md\":\"DoFHDeff\",\"server_rest-api_corpus_docs_pid_snippet_get.md\":\"CjzWfJO9\",\"server_rest-api_corpus_docs_post.md\":\"B1wM60iX\",\"server_rest-api_corpus_fields_fieldname_get.md\":\"ClSy-N0l\",\"server_rest-api_corpus_get.md\":\"DiaF9XbD\",\"server_rest-api_corpus_hits_get.md\":\"DZr5YDTj\",\"server_rest-api_corpus_parse-pattern_get.md\":\"CkrZ27H9\",\"server_rest-api_corpus_relations_get.md\":\"C70rcx5v\",\"server_rest-api_corpus_sharing_get.md\":\"CL9L1g8I\",\"server_rest-api_corpus_sharing_post.md\":\"Y5ICCIPe\",\"server_rest-api_corpus_status_get.md\":\"12VWRbhi\",\"server_rest-api_corpus_termfreq_get.md\":\"6Lbvanp8\",\"server_rest-api_errors.md\":\"HmPWrtaq\",\"server_rest-api_get.md\":\"D49w8m2i\",\"server_rest-api_index.md\":\"BuPNfkR4\",\"server_rest-api_input-formats_get.md\":\"9a7zT5jY\",\"server_rest-api_input-formats_name_delete.md\":\"BsSaRdSB\",\"server_rest-api_input-formats_name_get.md\":\"CQTGZ6kJ\",\"server_rest-api_input-formats_name_xslt_get.md\":\"B0P8HRv1\",\"server_rest-api_input-formats_post.md\":\"fmJOgdMP\",\"server_rest-api_post.md\":\"CIrivuzo\",\"server_rest-api_shared-with-me_get.md\":\"CGokNo9V\",\"server_vmtouch.md\":\"DK4tMwuE\",\"structure.md\":\"DTNIpJFY\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"/ BlackLab /\",\"description\":\"Documentation for the corpus search engine BlackLab\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/img/ivdnt-logo-4regels.svg\",\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/\"},{\"text\":\"Webservice\",\"link\":\"/server/\"},{\"text\":\"Developers\",\"link\":\"/development/\"},{\"text\":\"Frontend\",\"link\":\"https://blacklab-frontend.ivdnt.org/\"},{\"text\":\"/INT/\",\"link\":\"https://ivdnt.org/\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/instituutnederlandsetaal/blacklab/\"}],\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/instituutnederlandsetaal/blacklab/edit/dev/site/docs/:path\"},\"footer\":{\"message\":\"Apache license 2.0\",\"copyright\":\"Copyright © 2010-present Dutch Language Institute\"},\"lastUpdated\":{},\"docFooter\":{\"next\":false,\"prev\":false},\"outline\":[2,3],\"sidebar\":{\"/guide/\":{\"base\":\"/guide/\",\"items\":[{\"text\":\"Introduction\",\"link\":\"index.md\"},{\"text\":\"Getting Started\",\"link\":\"getting-started\"},{\"text\":\"Index your data\",\"items\":[{\"text\":\"Create an index\",\"link\":\"index-your-data/create-an-index\"},{\"text\":\"A simple configuration file\",\"link\":\"index-your-data/simple-example\"},{\"text\":\"Annotations\",\"link\":\"index-your-data/annotations\"},{\"text\":\"Spans\",\"link\":\"index-your-data/spans\"},{\"text\":\"Metadata\",\"link\":\"index-your-data/metadata\"},{\"text\":\"Processing values\",\"link\":\"index-your-data/processing-values\"},{\"text\":\"Relations\",\"link\":\"index-your-data/relations\"},{\"text\":\"Parallel corpora\",\"link\":\"index-your-data/parallel-corpora\"},{\"text\":\"Non-XML files\",\"link\":\"index-your-data/non-xml-files\"},{\"text\":\"Miscellaneous\",\"link\":\"index-your-data/miscellaneous\"},{\"text\":\"Full configuration example\",\"link\":\"index-your-data/full-example\"}],\"collapsed\":true},{\"text\":\"Query language\",\"items\":[{\"text\":\"BCQL\",\"link\":\"query-language/index\"},{\"text\":\"Token-based querying\",\"link\":\"query-language/token-based\"},{\"text\":\"Relations querying\",\"link\":\"query-language/relations\"},{\"text\":\"Parallel corpus querying\",\"link\":\"query-language/parallel\"},{\"text\":\"Miscellaneous\",\"link\":\"query-language/miscellaneous\"}],\"collapsed\":true},{\"text\":\"FAQ\",\"link\":\"faq\"},{\"text\":\"Future plans\",\"link\":\"future-plans\"},{\"text\":\"Who is using BlackLab?\",\"link\":\"who-uses-blacklab\"},{\"text\":\"About\",\"link\":\"about\"}]},\"/development/\":{\"base\":\"/development/\",\"items\":[{\"text\":\"Development resources\",\"link\":\"index.md\"},{\"text\":\"Downloads\",\"link\":\"downloads\"},{\"text\":\"QueryTool\",\"link\":\"query-tool\"},{\"text\":\"Customization\",\"items\":[{\"text\":\"Custom DocIndexer\",\"link\":\"customization/docindexer\"},{\"text\":\"Plugins for converting/tagging\",\"link\":\"customization/plugins\"},{\"text\":\"Write a DocIndexer (legacy)\",\"link\":\"customization/legacy-docindexers\"}],\"collapsed\":true},{\"text\":\"Solr (EXPERIMENTAL)\",\"link\":\"solr\"},{\"text\":\"Migration guide\",\"link\":\"migration-guide\"},{\"text\":\"Change Log\",\"link\":\"changelog\"},{\"text\":\"Api redesign\",\"items\":[{\"text\":\"Blacklab webservice API evolution\",\"link\":\"api-redesign/api-redesign\"},{\"text\":\"New API examples\",\"link\":\"api-redesign/API\"}],\"collapsed\":true}]},\"/server/\":{\"base\":\"/server/\",\"items\":[{\"text\":\"BlackLab Server\",\"link\":\"index.md\"},{\"text\":\"How to use\",\"link\":\"overview\"},{\"text\":\"API reference\",\"link\":\"rest-api/index.md\"},{\"text\":\"Using from different languages\",\"link\":\"from-different-languages\"},{\"text\":\"Configuration\",\"link\":\"configuration\"},{\"text\":\"Tutorials / howtos\",\"link\":\"howtos\"}]}}},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en-US\"}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>