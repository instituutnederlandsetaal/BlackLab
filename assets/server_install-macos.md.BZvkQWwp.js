import{_ as s,c as e,o as n,al as i}from"./chunks/framework.B3j7FRen.js";const k=JSON.parse('{"title":"Install BlackLab standalone on MacOS (by Dirk Roorda)","description":"","frontmatter":{},"headers":[],"relativePath":"server/install-macos.md","filePath":"server/_install-macos.md","lastUpdated":1749114403000}'),t={name:"server/install-macos.md"};function l(p,a,o,r,h,d){return n(),e("div",null,a[0]||(a[0]=[i(`<h1 id="install-blacklab-standalone-on-macos-by-dirk-roorda" tabindex="-1">Install BlackLab standalone on MacOS (by Dirk Roorda) <a class="header-anchor" href="#install-blacklab-standalone-on-macos-by-dirk-roorda" aria-label="Permalink to &quot;Install BlackLab standalone on MacOS (by Dirk Roorda)&quot;">​</a></h1> <blockquote><p>This guide was written by Dirk Roorda for the CLARIAH project General Missives project. This is a slightly edited (top heading, other heading levels) archived version; the original can be found <a href="https://github.com/CLARIAH/wp6-missieven/blob/master/blacklab/install.md" target="_blank" rel="noreferrer">here</a>. It is licensed under the MIT license.</p></blockquote> <h2 id="about" tabindex="-1">About <a class="header-anchor" href="#about" aria-label="Permalink to &quot;About&quot;">​</a></h2> <p>This document describes how to install a working Blacklab server and client
on a standalone machine running
macos.</p> <h2 id="toc" tabindex="-1">TOC <a class="header-anchor" href="#toc" aria-label="Permalink to &quot;TOC&quot;">​</a></h2> <ul><li>Prerequisites
<ul><li>Requirements</li> <li>Java</li> <li>Tomcat
<ul><li>Run Tomcat</li> <li>Manage TomCat
<ul><li>Set up managers</li></ul></li></ul></li></ul></li> <li>Blacklab
<ul><li>File organization
<ul><li>Explanation</li></ul></li> <li>Server
<ul><li>Configure</li> <li>Example corpus</li> <li>Deploy within TomCat</li> <li>Test the query tool</li></ul></li> <li>Client</li></ul></li></ul> <h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2> <h3 id="requirements" tabindex="-1">Requirements: <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements:&quot;">​</a></h3> <ul><li>macos 10.15.7 or higher (Catalina), earlier probably works as good</li> <li>Commandline tools installed (part of XCode)
<code>xcode-select --install</code></li> <li><a href="https://brew.sh" target="_blank" rel="noreferrer">HomeBrew</a> (a macos package manager)</li></ul> <h3 id="java" tabindex="-1">JAVA <a class="header-anchor" href="#java" aria-label="Permalink to &quot;JAVA&quot;">​</a></h3> <p>We use Homebrew to install a Java Development Kit (JDK), from an open source,
using a mechanism of HomeBrew that is optimized for large binaries.</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>brew update</span></span>
<span class="line"><span>brew tap homebrew/cask</span></span>
<span class="line"><span>brew cask install adoptopenjdk</span></span>
<span class="line"><span>java -version</span></span></code></pre></div><p>Results in:</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>openjdk version &quot;15&quot; 2020-09-15</span></span>
<span class="line"><span>OpenJDK Runtime Environment AdoptOpenJDK (build 15+36)</span></span>
<span class="line"><span>OpenJDK 64-Bit Server VM AdoptOpenJDK (build 15+36, mixed mode, sharing)</span></span></code></pre></div><h3 id="tomcat" tabindex="-1">TOMCAT <a class="header-anchor" href="#tomcat" aria-label="Permalink to &quot;TOMCAT&quot;">​</a></h3> <p>We install both TomCat and its native library, in order to get access to SSL.</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>brew install tomcat</span></span>
<span class="line"><span>brew install tomcat-native</span></span></code></pre></div><p>We get a notification:</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>In order for tomcat&#39;s APR lifecycle listener to find this library, you&#39;ll</span></span>
<span class="line"><span>need to add it to java.library.path. This can be done by adding this line</span></span>
<span class="line"><span>to $CATALINA_HOME/bin/setenv.sh</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  CATALINA_OPTS=&quot;$CATALINA_OPTS -Djava.library.path=/usr/local/opt/tomcat-native/lib&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>If $CATALINA_HOME/bin/setenv.sh doesn&#39;t exist, create it and make it executable.</span></span></code></pre></div><p><strong>N.B</strong> This <code>CATALINA</code> is a code name for TomCat and has nothing to do with the current
macos version 10.15, also named <code>Catalina</code>.</p> <p>OK, it appears that</p> <p><code>CATALINA_HOME</code> is <code>/usr/local/Cellar/tomcat/9.0.40/libexec</code>
although there is no CATALINA_HOME visible to the shell.
You can either set such a variable and use it in the ocmmands below, or spell
the value out.</p> <p>It seems that it is not needed to set this variable for TomCat to work.</p> <p>Depending on whether you have chosen to set <code>CATALINA_HOME</code> in your shell
say either</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>vim $CATALINA_HOME/bin/setenv.sh</span></span></code></pre></div><p>or</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>vim /usr/local/Cellar/tomcat/9.0.40/libexec/bin/setenv.sh</span></span></code></pre></div><p>and add the line</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CATALINA_OPTS=&quot;$CATALINA_OPTS -Djava.library.path=/usr/local/opt/tomcat-native/lib&quot;</span></span></code></pre></div><p>Then</p> <p>either</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>chmod ugo+x $CATALINA_HOME/bin/setenv.sh</span></span></code></pre></div><p>or</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>chmod ugo+x /usr/local/Cellar/tomcat/9.0.40/libexec/bin/setenv.sh</span></span></code></pre></div><h4 id="run-tomcat" tabindex="-1">Run TOMCAT <a class="header-anchor" href="#run-tomcat" aria-label="Permalink to &quot;Run TOMCAT&quot;">​</a></h4> <p>There are several ways to run TomCat:</p> <p>As a service that starts when the Mac starts:</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>brew services start tomcat</span></span></code></pre></div><p>Manually</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>catalina run</span></span></code></pre></div><p>and stop it by <code>Ctrl-C</code>.</p> <p>As a background process:</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>catalina start</span></span></code></pre></div><p>and stop it with</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>catalina stop</span></span></code></pre></div><p>See also</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>catalina -h</span></span></code></pre></div><h4 id="manage-tomcat" tabindex="-1">Manage TOMCAT <a class="header-anchor" href="#manage-tomcat" aria-label="Permalink to &quot;Manage TOMCAT&quot;">​</a></h4> <p>In the browser, navigate to</p> <p><a href="http://localhost:8080" target="_blank" rel="noreferrer">http://localhost:8080</a></p> <p>You should see a page that says that you have successfully installed TomCat.</p> <h5 id="set-up-managers" tabindex="-1">Set up managers <a class="header-anchor" href="#set-up-managers" aria-label="Permalink to &quot;Set up managers&quot;">​</a></h5> <p>See the users in</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd /usr/local/Cellar/tomcat/9.0.40/libexec </span></span>
<span class="line"><span>vim conf/tomcat-users.xml</span></span></code></pre></div><p>and add the lines</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;role rolename=&quot;manager-gui&quot;/&gt;</span></span>
<span class="line"><span>&lt;user username=&quot;dirk&quot; password=&quot;dirk&quot; roles=&quot;manager-gui&quot;/&gt;</span></span></code></pre></div><p>where you can replace <code>dirk</code> and <code>dirk</code> by whatever you like.</p> <h2 id="blacklab" tabindex="-1">Blacklab <a class="header-anchor" href="#blacklab" aria-label="Permalink to &quot;Blacklab&quot;">​</a></h2> <p>To see what Blacklab is, see
<a href="https://blacklab.ivdnt.org/index.html" target="_blank" rel="noreferrer">blacklab intro</a>.</p> <p>A working blacklab installation consists of a server, a client, and corpus data.</p> <h3 id="file-organization" tabindex="-1">File organization <a class="header-anchor" href="#file-organization" aria-label="Permalink to &quot;File organization&quot;">​</a></h3> <p>The following bit of file organization is not rigidly prescribed.
You can also choose another organization.
Whatever you do, it needs to be reflected in subsequent config files and shell commands.</p> <p>This is an organization that I find convenient at this stage:</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>blacklab/</span></span>
<span class="line"><span>         data/</span></span>
<span class="line"><span>              incoming/</span></span>
<span class="line"><span>              indexes/</span></span>
<span class="line"><span>         program/</span></span>
<span class="line"><span>         installation/</span></span></code></pre></div><p>I have put it all under <code>~/local</code> i.e. my home directory and then
a subdirectory <code>blacklab</code>.</p> <h4 id="contents-and-downloads" tabindex="-1">Contents and downloads <a class="header-anchor" href="#contents-and-downloads" aria-label="Permalink to &quot;Contents and downloads&quot;">​</a></h4> <p>The <code>data</code> directory will receive corpus data.</p> <p>The <code>incoming</code> subdir receives downloaded data, the <code>indexes</code> subdir is the destination
of the blacklab indexer.</p> <p>The <code>installation</code> directory receives the downloaded <code>blacklab-server-2.1.0</code> war file.</p> <p>This file is attached to a release of the Blacklab repo.
The releases are listed
<a href="https://github.com/instituutnederlandsetaal/BlackLab/releases/" target="_blank" rel="noreferrer">here</a>
and we pick release 2.1.0.
You see a file
<a href="https://github.com/instituutnederlandsetaal/BlackLab/releases/download/v2.1.0/blacklab-server-2.1.0.war" target="_blank" rel="noreferrer">blacklab-server-2.1.0.war</a>
there, download it and place it in the <code>installation</code> directory.</p> <p>We will unzip it in place, and copy its <code>WEB-INF/lib</code> directory to the <code>program</code> directory.</p> <p>Over there, we move the <code>blacklab-2.1.0.jar</code> file one level up, so that it is directly beneath
the <code>program</code> dir.</p> <p>When we <code>cd</code> to the program dir, we can easily run the java program in the blacklab jar file,
supported by the libraries in the jar files under the <code>lib</code> subdirectory.</p> <p>We&#39;ll need the blacklab program soon: for indexing the first corpus.</p> <p>We also need to download a front-end, a.k.a. client.
This is in the
<a href="https://github.com/instituutnederlandsetaal/blacklab-frontend" target="_blank" rel="noreferrer">instituutnederlandsetaal/blacklab-frontend</a> repo.
Again, move to the
<a href="https://github.com/instituutnederlandsetaal/blacklab-frontend/releases" target="_blank" rel="noreferrer">releases</a>
page and there you find release 2.1.0.
You see a file
<a href="https://github.com/instituutnederlandsetaal/blacklab-frontend/releases/download/v2.1.0/corpus-frontend-2.1.0.war" target="_blank" rel="noreferrer">corpus-frontend-2.1.0.war</a>
there, download it and place it in the <code>installation</code> directory.</p> <h3 id="server" tabindex="-1">Server <a class="header-anchor" href="#server" aria-label="Permalink to &quot;Server&quot;">​</a></h3> <p>See
<a href="/server/">blacklab-server overview</a></p> <h4 id="configure" tabindex="-1">Configure <a class="header-anchor" href="#configure" aria-label="Permalink to &quot;Configure&quot;">​</a></h4> <p>Set an environment variable to point to the blacklab server config, do
this in your <code>.zshrc</code> file.</p> <p>Note that <code>~</code> will not work properly, so spell out the complete path
from the root of your system to the directory where your blacklab config dir is:</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>BLACKLAB_CONFIG_DIR=&quot;/Users/dirk/local/blacklab&quot;</span></span>
<span class="line"><span>export BLACKLAB_CONFIG_DIR</span></span></code></pre></div><p>Then edit/create a server config file:</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd ~/local/blacklab</span></span>
<span class="line"><span>vim blacklab-server.yaml</span></span></code></pre></div><p>and add the contents</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>---</span></span>
<span class="line"><span>configVersion: 2</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Where indexes can be found</span></span>
<span class="line"><span># (list directories whose subdirectories are indexes, or directories containing a single corpus)</span></span>
<span class="line"><span>indexLocations:</span></span>
<span class="line"><span>- /Users/dirk/local/blacklab/data/indexes</span></span></code></pre></div><p><strong>N.B.</strong>
Note that in this config file you can not use the <code>~</code> abbreviation.</p> <p>Deploying the blacklab war now leads to a friendly message from blacklab that there are no indexes.
So, before we deploy, we create the indexes for an example corpus and put it in place.</p> <h4 id="example-data" tabindex="-1">Example data <a class="header-anchor" href="#example-data" aria-label="Permalink to &quot;Example data&quot;">​</a></h4> <p>We download the
<a href="https://github.com/instituutnederlandsetaal/BlackLab/wiki/brownCorpus.lemmatized.xml.zip" target="_blank" rel="noreferrer">Brown corpus</a>,
a single XML file of 66 MB when unzipped, to be put in <code>data/incoming</code>.</p> <p>Run the blacklab index tool by running the blacklab jar:</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd ~/local/blacklab/program/</span></span></code></pre></div><p>Then run the jar:</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>java -cp &quot;blacklab-2.1.0.jar&quot; nl.inl.blacklab.tools.IndexTool create ~/local/blacklab/data/indexes/brown ~/local/blacklab/data/incoming/brownCorpus.lemmatized.xml tei</span></span></code></pre></div><h4 id="deploy-within-tomcat" tabindex="-1">Deploy within Tomcat <a class="header-anchor" href="#deploy-within-tomcat" aria-label="Permalink to &quot;Deploy within Tomcat&quot;">​</a></h4> <p>In the terminal, give the command</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>catalina start</span></span></code></pre></div><p>Then, in the browser navigate (again) to</p> <p><a href="http://localhost:8080" target="_blank" rel="noreferrer">http://localhost:8080</a></p> <p>Click the manage app and login with <code>dirk</code>, <code>dirk</code> (which is what have have put in the
TomCat config file for users, above).</p> <p>In the list of applications, click the blacklab-server-2.1.0 entry.</p> <p>You should see something like:</p> <div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">blacklabResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">blacklabBuildTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;2020-06-22 16:01:41&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">blacklabBuildTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">blacklabVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;2.1.0&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">blacklabVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">indices</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">index</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;brown&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">displayName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;brown&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">displayName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;available&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">documentFormat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;tei&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">documentFormat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">timeModified</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;2020-11-24 11:47:37&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">timeModified</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">tokenCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;1008320&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">tokenCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">indices</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">loggedIn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;false&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">loggedIn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">canCreateIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;false&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">canCreateIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">blacklabResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>which means that all is well and that the Brown corpus indexes have been found.</p> <h4 id="test-the-query-tool" tabindex="-1">Test the query tool <a class="header-anchor" href="#test-the-query-tool" aria-label="Permalink to &quot;Test the query tool&quot;">​</a></h4> <p>Still in the <code>program</code> directory you can run the query tool:</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>java -cp blacklab-2.1.0.jar nl.inl.blacklab.tools.QueryTool ~/local/blacklab/data/indexes/brown</span></span></code></pre></div><p>You get a prompt <code>CorpusQL&gt; </code>.
Enter the query <code>&quot;egg&quot;</code> followed by a newline.</p> <p>You get results.
Exit by giving the command <code>exit</code>.</p> <div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CorpusQL&gt; &quot;egg&quot;</span></span>
<span class="line"><span>   1. [0106]               is thick , much like an [egg] plant?s skin , so that poison</span></span>
<span class="line"><span>   2. [0115]                it with beaten yolk of [egg]</span></span>
<span class="line"><span>   3. [0144]        kitchen for coffee grounds and [egg] shells . All these materials and</span></span>
<span class="line"><span>   4. [0303]            On this , she builds an \`\` [egg] compartment ?? or \`\` egg cell ?? which</span></span>
<span class="line"><span>   5. [0303] builds an \`\` egg compartment ?? or \`\` [egg] cell ?? which is filled with</span></span>
<span class="line"><span>   6. [0303]             the beebread loaf and the [egg] compartment is closed . The queen</span></span>
<span class="line"><span>   7. [0303]                  retires to a life of [egg] laying . The first worker bees</span></span>
<span class="line"><span>   8. [0303]      in unobtrusively , to deposit an [egg] on a completed loaf of</span></span>
<span class="line"><span>   9. [0303]        before the bumblebees seal the [egg] compartment . The hosts never seem</span></span>
<span class="line"><span>  10. [0303]             which is provided with an [egg] plus a store of beebread</span></span>
<span class="line"><span>  11. [0332]              with the chicken and the [egg] . Which came first ? ? Is it</span></span>
<span class="line"><span>  12. [0400]    constructed a highboard around the [egg] case which he had placed</span></span>
<span class="line"><span>12 hits in 6 documents</span></span>
<span class="line"><span>105 ms elapsed</span></span>
<span class="line"><span>CorpusQL&gt; exit</span></span>
<span class="line"><span>dirk:~/local/blacklab/program &gt;</span></span></code></pre></div><h3 id="client" tabindex="-1">Client <a class="header-anchor" href="#client" aria-label="Permalink to &quot;Client&quot;">​</a></h3> <p>The main front-end for Blacklab is in a separate
<a href="https://github.com/instituutnederlandsetaal/blacklab-frontend/" target="_blank" rel="noreferrer">GitHub repo</a></p>`,195)]))}const g=s(t,[["render",l]]);export{k as __pageData,g as default};
